#Nomad_Coder #Nomad_Coder_Youtube  [[Nomad Coder Youtube]]

## 5.0 Returning HTML
### 1. 응답으로 HTML 보내기
- res.send() 함수로도 HTML을 보낼 수도 있지만 그러기엔 HTML이 너무 큼
- 이것을 효율적으로 처리하기 위해 pug 사용



## 5.1 Configuring Pug
### 1. pug
- HTML의 문법을 단순화 시켜서 간편하게 HTML 코드를 작성할 수 있게 해줌
- express에게 view engine은 pug로 사용할 것임을 명시해야함
```javascript
// in server.js
import express from "express";

const app = express();

app.set("view engine", "pug");
```
- express는 views 디렉토리의 .pug 파일들을 보기 때문에 views 디렉토리에 .pug 파일 생성
- controller에서 res.send() 대신 res.render()를 사용해 pug에서 작성한 HTML을 반환
```javascript
// in videoController.js
export const trending = (req, res) => res.render("home"); // home.pug가 views에 존재
```



## 5.2 Partials

### 1. include
- pug에는 include 기능이 있어서 자주 사용되는 부분을 별도의 pug 파일로 만들고 재사용
```pug
// in ./partials/footer.pug
footer &copy; #{new Date().getFullYear()} Wetube

-------
// in home.pug
...
	body
		h1 Welcome to Wetube
	include partials/footer.pug

-------
// in watch.pug
...
	body
		h1 Watch Videos
	include partials/footer.pug
```




## 5.3 Extending Templates
### 1. 템플릿 상속
- pug는 템플릿 상속을 지원
- 템플릿 상속은 block과 extends 키워드를 통해 사용
- extends - 배경이 되는 템플릿
- block - 배경이 되는 템플릿에서 수정하고 싶은 부분
```pug
// in base.pug
doctype html
html(lang="ko")
    head
        block head
    body
        block content
    include partials/footer.pug

-----
// in home.pug
extends base.pug

block head
    title Home | Wetube

block content
    h1 Home!

-----
// in edit.pug
extends base.pug

block head
    title Edit | Wetube

block content
    h1 Edit Video

```




## 5.4 Variables to Templates
- 템플릿에 변수로 받고 싶은 부분을 #{변수 이름}으로 한다.
- pug 파일을 렌더링 하는 부분은 컨트롤러이므로, 컨트롤러에서 템플릿으로 보낼 변수를 보낸다.
```javascript
// in base.pug
doctype html
html(lang="ko")
    head
        title #{pageTitle} | Wetube  // pageTitle 이라는 변수를 받음
    body
        block content
    include partials/footer.pug

-----
// in videoController.js
export const trending = (req, res) => res.render("home", { pageTitle: "Home" });
export const see = (req, res) => res.render("Watch", { pageTitle: "Watch" });
export const edit = (req, res) => res.render("Edit", { pageTitle: "Edit" });
```




## 5.6 MVP Styles
