#fullstack #gpt #Nomad_Coder [[Fullstack GPT]]

## 9.1 WikipediaRetriever
### Wikipedia
- 다국어로 이루어진 무료 온라인 백과사전
- 위키피디언들이 참여하여 오픈 협업을 통해 작성되고 유지 보수되는 시스템인 MediaWiki 기반의 편집 시스템을 사용


---
## 9.4 Formatter Prompt
### Format을 지정하는 이유
- 특정 형식을 강제하여 일관된 프롬프트 구조를 유지할 수 있음
- LLM이 일관된 형식으로 응답을 하도록 유도할 수 있음
```python
questions_prompt = ChatPromptTemplate.from_messages([
    (
        "system",
        """
        You are a helpful assistant that is role playing as a teacher.
        
        Based ONLY on the following context make 10 questions to test the user's knowledge about the text.
        
        Each question should have 4 answers, three of them must be incorrect and one should be correct.
        
        Use (o) to signal the correct answer.
        
        Question examples:
        
        Question: What is the color of the ocean?
        Answers: Red | Yellow | Green | Blue(o)
        
        Your turn!
        
        Context: {context}
        """
    )
])

questions_chain = {
    "context": format_docs
} | questions_prompt | llm

formatting_prompt = ChatPromptTemplate.from_messages([
    (
        "system",
        """
        You are a powerful formatting algorithm.

        You format exam questions into JSON format.
        Answers with (o) are the correct ones.

        Example Input:
        Question: What is the color of the ocean?
        Answers: Red|Yellow|Green|Blue(o)

        Example Output:

        ```json
		{{
			"question": "What is the color of the ocean?",
			"answers": [
				{{
					"answer": "Red",
					"correct": false
				}},
				{{
					"answer": "Yellow",
					"correct": false
				}},
				{{
					"answer": "Green",
					"correct": false
				}},
				{{
					"answer": "Blue",
					"correct": true
				}},
			]
		}}
        ```
        Your turn!
        Questions: {context}
        """,
    )
])

formatting_chain = formatting_prompt | llm
```

### {}와 {{}}의 차이
- {}: prompt에 어떤 값을 주입하고 싶을 때 사용
- {{}}: prompt에서 format 하지 않았으면 하는 부분들을 지정할 때 사용


---
